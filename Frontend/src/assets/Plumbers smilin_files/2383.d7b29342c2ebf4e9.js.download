!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="72907861-16a3-46a3-81f1-dc2ccdb7e016",e._sentryDebugIdIdentifier="sentry-dbid-72907861-16a3-46a3-81f1-dc2ccdb7e016")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2383],{49749:function(e,t,s){"use strict";s.d(t,{g:function(){return g}});var r=s(97458),n=s(83410),a=s(81801),i=s(50273),l=s(83598),o=s(32748),c=s(91687),u=s(535),d=s(32418),m=s(83941),x=s(92390),h=s(58109);s(54162);var f="_woeski2 $px-15 $py-10";let p=e=>{let{total:t=0}=e,{t:s}=(0,o.$G)("common"),m=(0,d.h)(),x=(0,n.u)(t),p=(0,c.s)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"$sprinkles-text-base md:$sprinkles-text-2xl $font-semibold $text-grayEbony $m-0 $mb-5",children:s("common:searchByImageH1")}),(0,r.jsx)("span",{className:"$block $sprinkles-text-base $text-grayOxford $m-0",children:(0,r.jsx)(o.cC,{i18nKey:"icon"===p?"common:searchByImageIconsH1Subtitle":"common:searchByImageH1Subtitle",values:{number:x},components:{1:(0,r.jsx)("strong",{})}})})]}),(0,r.jsxs)("div",{className:"_woeski1 $flex $flex-wrap $gap-15",children:[(0,r.jsx)(u.v,{children:(0,r.jsx)(h.b,{buttonStyles:f})}),(0,r.jsxs)(a.f5,{as:"button",color:"gray",size:"xs",weight:"semi",onClick:m,className:f,children:[(0,r.jsx)(i.J,{as:l.Z,size:"lg",className:"$mr-10 $text-grayEbony"}),(0,r.jsx)("span",{className:"$text-xs $text-grayEbony",children:s("common:searchByImageCleanSearch")})]})]})]})},g=e=>{let{total:t=0}=e,{imageFile:s}=(0,m.n)();return(null==s?void 0:s.imageBase64)?(0,r.jsxs)("div",{className:"_woeski0 $grid $items-center",children:[(0,r.jsx)(x.e,{imageFile:s}),(0,r.jsx)(p,{total:t})]}):null}},66631:function(e,t,s){"use strict";s.d(t,{$:function(){return n},l:function(){return a}});var r=s(97458);s(63662);let n=e=>{let{title:t,term:s,children:n}=e;return(0,r.jsxs)("div",{className:"_1wc8gem0 $w-full $mx-auto $px-[20px] $max-w-[1400px] $pt-40 $pb-50 $text-grayOxford $text-center",children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("p",{className:"$text-2xl $font-semibold $mt-20 $mb-30",children:s}),n]})},a=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"$text-lg $text-grayHoki $mb-60",children:t})}},92390:function(e,t,s){"use strict";s.d(t,{e:function(){return i}});var r=s(97458),n=s(91687);s(83662);var a=(0,s(22319).c)({defaultClassName:"_o0oo8j4 _o0oo8j1 $m-0 $rounded-xl $shadow-xs",variantClassNames:{size:{icon:"_o0oo8j2",default:"_o0oo8j3"}},defaultVariants:{},compoundVariants:[]});let i=e=>{let{imageFile:t}=e,s=(0,n.s)();return(0,r.jsx)("div",{className:"_o0oo8j0",children:(0,r.jsx)("div",{className:a({size:"icon"===s?"icon":"default"}),style:{backgroundImage:"url(data:".concat(t.imageType,";base64,").concat(t.imageBase64,")")}})})}},58109:function(e,t,s){"use strict";s.d(t,{b:function(){return c}});var r=s(97458),n=s(81801),a=s(50273),i=s(59586),l=s(32748),o=s(69640);let c=e=>{let{buttonStyles:t}=e,{t:s}=(0,l.$G)("common"),c=(0,o.w)();return(0,r.jsxs)(n.gg,{color:"blue",size:"sm",weight:"semi",onClick:c,className:null!=t?t:"$mb-50 $mt-15",children:[(0,r.jsx)(a.J,{as:i.Z,size:"lg",className:"$mr-10 $text-white"}),(0,r.jsx)("span",{className:"$text-xs",children:s("common:searchByImageNewSearch")})]})}},36644:function(e,t,s){"use strict";s.d(t,{E:function(){return d}});var r=s(97458),n=s(16830),a=s.n(n),i=s(66461),l=s(13865),o=s(68475),c=s(15272);let u=a()(()=>Promise.resolve().then(s.bind(s,78420)).then(e=>e.AddToCollection),{loadableGenerated:{webpack:()=>[78420]},ssr:!1}),d=e=>{let{items:t,maxPriorityItems:s=0,fromView:n}=e;return(0,r.jsx)(o.b,{...e,children:(0,r.jsx)(l.l,{children:(0,r.jsx)(i.k,{children:t.map((t,a)=>(0,r.jsx)(m,{item:t,uuid:e.uuid,priority:a<s,fromView:n,position:a,isModal:!0},"thumbnail-".concat(t.id)))})})})},m=e=>{let{item:t,isModal:s,uuid:n,priority:a,fromView:i,position:l}=e;return x(t)?(0,r.jsx)(c.R,{item:t,isModal:s,uuid:n,priority:a,fromView:i,position:l,children:(0,r.jsx)(u,{type:t.type,id:t.id,preview:t.preview.url,location:"thumbnail",tooltipProps:{side:"left"}})},"thumbnail-".concat(t.id)):null},x=e=>void 0!==e.id},20711:function(e,t,s){"use strict";s.d(t,{E:function(){return r.E}});var r=s(36644)},15272:function(e,t,s){"use strict";s.d(t,{R:function(){return d}});var r=s(97458),n=s(66287),a=s(16830),i=s.n(a),l=s(52983),o=s(60485),c=s(73423),u=s(57259);let d=e=>{let{item:t,position:a,fromView:d,children:m,isModal:x,priority:h,uuid:f,resizeParameter:p,blockViewSimilar:g}=e,y=i()(()=>Promise.resolve().then(s.bind(s,60485)).then(e=>e.ActionsThumbnail),{loadableGenerated:{webpack:()=>[60485]},ssr:!1}),{id:j,name:$,author:b,type:v,preview:{url:w},premium:k,slug:N,isEditableInWepik:E,isEditableInMockup:I,isAIGenerated:C,url:S}=t,_="".concat((0,c.k)(k,v),"/").concat(N,"_").concat(j,".htm"),B=(0,l.useRef)(null),F=(0,n.a)("sm"),[O,R]=(0,l.useState)(!1),T=b.id!==u.c;return(0,l.useEffect)(()=>{let e=B.current;if(e)return e.addEventListener("mouseenter",()=>R(!0)),()=>{e.removeEventListener("mouseenter",()=>R(!0))}},[B]),(0,r.jsx)(o.ImageThumbnail,{item:t,position:a,fromView:d,ref:B,isModal:x,dataCy:"resource-thumbnail",priority:h,uuid:f,resizeParameter:p,blockViewSimilar:g,children:F&&O&&(0,r.jsx)(y,{id:j,name:$,author:b,media:w,url:_,description:$,isDownloadEnabled:T,thumbnailRef:B,width:t.preview.width,height:t.preview.height,isEditableInWepik:E,isEditableInMockup:I,premium:k,type:v,isAIGenerated:C,detailLink:S,fromView:d,children:m})})}},56765:function(e,t,s){"use strict";s.d(t,{k:function(){return c}});var r=s(42011),n=s(7616),a=s(52983),i=s(38306);let l=async e=>{let t=(0,i.A)(e),s=await fetch("/api/user/collections/resources?".concat(t));return s.ok?{success:!0,data:await s.json()}:401===s.status||403===s.status||405===s.status?{success:!1,data:"AUTHENTICATION_ERROR"}:{success:!1,data:"UNKNOWN_ERROR"}};var o=s(84926);let c=()=>{let[e,t]=(0,n.KO)(o.P),s=(0,r.d)();return(0,a.useCallback)(async r=>{if(!s)return;let n=await l(r);n.success&&Array.isArray(n.data)&&t(Array.from(new Set([...e,...n.data])))},[t,e,s])}},50310:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=e=>{let t=[],s=e.reduce((e,t)=>(t.id&&["photo","vector","psd","mockup"].includes(t.type)&&(e[t.type]?e[t.type].push(t.id):e[t.type]=[t.id]),e),{});return Object.keys(s).forEach(e=>{t.push({type:e,ids:s[e]})}),t}},10201:function(e,t,s){"use strict";s.d(t,{K:function(){return c}});var r=s(42011),n=s(12297),a=s(52983),i=s(56765),l=s(25730),o=s(50310);let c=e=>{let t=(0,a.useRef)(null),s=(0,r.d)(),c=(0,o.Z)(e),{userLikesByIds:u}=(0,l.T)(),d=(0,i.k)();return(0,a.useEffect)(()=>{!(0,n.vZ)(t.current,e)&&c.length&&s&&(t.current=e,u(c).then(()=>d(c)))},[c,e,d,s,u]),null}},32383:function(e,t,s){"use strict";s.r(t),s.d(t,{RegularSearch:function(){return Z}});var r=s(97458),n=s(26463),a=s(11323),i=s(26778),l=s(32748),o=s(66631),c=s(51489),u=s(91687),d=s(43096),m=s(70800),x=s(66787);let h=()=>{var e;let{t}=(0,l.$G)("regularSearch"),s=null!==(e=(0,d.Jn)("term"))&&void 0!==e?e:"",n=(0,u.s)(),a=(0,x.U)();return(0,m.yV)(),(0,r.jsx)(o.$,{title:t("notFound"),term:s,children:a&&(0,r.jsx)(c.B6,{type:n})})};var f=s(78630),p=s(92521),g=s(7616),y=s(92390),j=s(58109),$=s(535),b="$sprinkles-text-base lg:$sprinkles-text-lg $text-grayBayoux $m-0";let v=()=>{let{t:e}=(0,l.$G)(["regularSearch","common"]),t=(0,u.s)(),s=(0,x.U)(),{imageFile:n}=(0,i.nn)(),a=(0,g.Dv)(d.tr).length>0?"option1":"option2";return((0,m.yV)(),n)?(0,r.jsxs)("div",{className:(0,p.m)("$text-grayOxford $text-center $pt-40 $pb-50",f.nC),children:[(0,r.jsxs)("div",{className:"$flex $flex-col $items-center $justify-center",children:[(0,r.jsx)("p",{className:"$sprinkles-text-xl lg:$sprinkles-text-3xl $font-alternate $font-semibold $text-grayOxford $mb-15",children:e("regularSearch:searchByImageNotFound:title")}),(0,r.jsx)(y.e,{imageFile:n}),(0,r.jsx)("p",{className:"$sprinkles-text-lg lg:$sprinkles-text-xl $font-semibold $text-grayOxford $mb-10 $mt-15",children:e("regularSearch:searchByImageNotFound:subtitle")}),(0,r.jsx)("p",{className:b,children:e("regularSearch:searchByImageNotFound:".concat(a))}),(0,r.jsx)("p",{className:b,children:e("common:or")}),(0,r.jsx)($.v,{children:(0,r.jsx)(j.b,{})})]}),s&&(0,r.jsx)(c.B6,{type:t})]}):null};var w=s(52983),k=s(68634),N=s(7489),E=s(93322),I=s(20711),C=s(8295),S=s(64085),_=s(6863),B=s(71927),F=s(21188),O=s(46635),R=s(10201),T=s(99753),V=s(70978),A=s(22752),K=s(49749),P=s(81008);let z=e=>{let{isFromEmptyCollections:t,isSearchingByImage:s,total:n,keyword:a,transKey:i,nextSearch:o}=e;return t?(0,r.jsx)(P.B,{transKey:"regularSearch:h1",description:(0,r.jsx)(l.cC,{i18nKey:"regularSearch:notFoundCollections",values:{keyword:a},components:{1:(0,r.jsx)("strong",{})}})}):s?(0,r.jsx)(K.g,{total:n}):(0,r.jsx)(P.B,{transKey:i,nextSearch:o})};var G=s(28795);let D=e=>{let{total:t,lastPage:s,items:n,track:a,relatedCollectionsTotal:l,nextSearch:o,term:c,isFromEmptyCollections:x}=e,h=(0,u.s)(),f=(0,d.Jn)("term"),p=(0,T.W)(),y=(0,i.tm)(),j=(0,A.x)(null!=h?h:""),$=h||"global",b=(0,g.b9)(V.A9),{trackerParams:v,uuidSearchTracker:K}=(0,m.aZ)({page:p,total:t,items:n,track:a});return(0,F.nF)(v),(0,R.K)(n),(0,w.useEffect)(()=>{y&&c&&b(c)},[y,b,c]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G.c,{keyword:f,total:t,type:null!=h?h:""}),(0,r.jsxs)(_.f,{introContent:(0,r.jsx)(z,{isFromEmptyCollections:x,isSearchingByImage:y,keyword:f,total:t,transKey:j,nextSearch:o}),infoContent:(0,r.jsxs)(r.Fragment,{children:[!y&&(0,r.jsx)(E.m,{resourcesQuantity:t,collectionsQuantity:l}),(0,r.jsx)(B.B,{})]}),children:[(0,r.jsx)(O.n,{searchTrackingCode:a,vertical:$,page:p,children:(0,r.jsx)(I.E,{items:n,fromView:v.fromView,page:p,uuid:K,maxPriorityItems:20})}),(0,r.jsx)(S.P,{lastPage:s,currentPage:p,uuid:K})]}),(0,r.jsx)(C.$,{}),(0,r.jsx)(k.e,{}),(0,r.jsx)(N.I,{})]})};var J=s(16486);let Z=e=>{let{resourceType:t,isFromEmptyCollections:s=!1}=e,l=(0,a.K)(J.w),o=(0,i.tm)();if("loading"===l.state)return(0,r.jsx)(n.j,{});if("hasValue"!==l.state||!l.contents)return o?(0,r.jsx)(v,{}):(0,r.jsx)(h,{});let{items:c,pagination:{total:u,lastPage:d},track:m,relatedCollectionsTotal:x,nextSearch:f,term:p}=l.contents;return(0,r.jsx)(D,{total:u,lastPage:d,items:c,track:m,relatedCollectionsTotal:"template"===t||"mockup"===t?0:x,nextSearch:f,term:p,isFromEmptyCollections:s})}},16486:function(e,t,s){"use strict";s.d(t,{w:function(){return c}});var r=s(24399),n=s(73139),a=s(65059),i=s(43096),l=s(70978),o=s(59035);let c=(0,n.xu)(e=>(0,n.n7)((0,r.cn)(async t=>{let s=t((0,i.t6)("type"))||"typeless";if(!a.en.includes(s)&&"typeless"!==s)return null;let r=t((0,i.t6)("format")),n=t(o.J);if("collections"===r&&!n)return null;let c=(0,a.tc)(t(i.lh),{locale:e});if(!c)return null;let u="1"===t((0,i.t6)("img")),d=t(l.pY);if(u&&!d)return null;let m=await fetch("/api/regular/search?".concat(c),u?{body:JSON.stringify(d),method:"POST"}:{});if(!m.ok)throw Error(m.statusText);return await m.json()})))},54162:function(){},83662:function(){}}]);